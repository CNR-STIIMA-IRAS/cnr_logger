<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cnr_logger: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cnr_logger
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>What is this repository for?</h3>
<ul>
<li>The package has been designed to have a loger separated from the standard ros logging functions. It uses the same core library, log4cxx. The main difference consists of that you can enable or disable the logging to screen and/or to file just using a parameter.</li>
</ul>
<h3>How do I get set up?</h3>
<ul>
<li>Dependencies: roscpp</li>
<li>Parameters:</li>
</ul>
<div class="fragment"><div class="line">~/appenders: [&#39;file&#39;, &#39;screen&#39;]                 # Mandatory</div><div class="line">                                                # A vector od dimension 1 or 2, where you can select if the output will be streamed to file, to screen or to both</div><div class="line">                                                # (the order in the vector is not important)</div><div class="line"></div><div class="line">~/levels: [ debug|info|warn|error|fatal, ..]    # Optional</div><div class="line">                                                # A vector where you can select the verbosity level for each appender.</div><div class="line">                                                # If not present, or if the size of the vecotr is different to the dimension of the appenders,</div><div class="line">                                                # the default value is superimposed.</div><div class="line">                                                # Default: &#39;debug&#39; for all the appenders</div><div class="line"></div><div class="line">~/pattern_layout: &#39;...&#39;                         # Optional</div><div class="line">                                                # look at https://svn.apache.org/repos/asf/logging/site/trunk/docs/log4cxx/apidocs/classlog4cxx_1_1_pattern_layout.html&quot;</div><div class="line">                                                # This allow you to define the log pattern.</div><div class="line">                                                # Default is: [%5p] [%d{HH:mm:ss,SSS}][%r][%M:%L]: %m%n</div><div class="line"></div><div class="line">~/file_name: &#39;file_name&#39;                        # Optional</div><div class="line">                                                # If &#39;file&#39; is selected, this is the path of the log file.</div><div class="line">                                                # If any absolute path is indicated it saves under the default location.</div><div class="line">                                                # Default: ~/.ros/log/[logger_id].log</div><div class="line"></div><div class="line">~/append_date_to_file_name: true|false          # Optional</div><div class="line">                                                # The name file will be appended with the YYMMDD-HH:MM::SS of creation</div><div class="line">                                                # Default: false</div><div class="line"></div><div class="line">~/append_to_file: true|false                    # Optional</div><div class="line">                                                # If true, the content is ppended to file. The new content start with a clear header (with data and start time).</div><div class="line">                                                # If not, the log file is overwritten.</div><div class="line">                                                # Default: true</div></div><!-- fragment --> <h3>Class initialization and usage</h3>
<p>There are two constructors: </p><div class="fragment"><div class="line">TraceLogger( const std::string&amp; logger_id )</div><div class="line">TraceLogger( const std::string&amp; logger_id, const std::string&amp; param_namespace, const bool star_header )</div></div><!-- fragment --><p>The first does not initialize the instance of the class, and the function <code>init()</code> must be called afterwards. The second initializes the the instance of the class.</p>
<p>If the inizialization failed, the class superimpose default values unlsess the user explicitely indicates to not use the default values.</p>
<ul>
<li>Example of usage</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;ros/ros.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cnr__logger_8h.html">cnr_logger/cnr_logger.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[] )</div><div class="line">{</div><div class="line">  ros::init(argc, argv, <span class="stringliteral">&quot;cnr_logger_test&quot;</span> );</div><div class="line">  ros::NodeHandle nh;</div><div class="line"></div><div class="line">  <a class="code" href="classcnr__logger_1_1TraceLogger.html">cnr_logger::TraceLogger</a> logger( <span class="stringliteral">&quot;log1&quot;</span>, <span class="stringliteral">&quot;/&quot;</span>);       <span class="comment">// first parameters is an ID for the logger, the second parameter is the namespace where find the configuration parameters</span></div><div class="line">  <span class="keywordflow">while</span>( ros::ok() )</div><div class="line">  {</div><div class="line">    ROS_INFO(<span class="stringliteral">&quot;Ciao-ros-info&quot;</span>);</div><div class="line">    ROS_DEBUG(<span class="stringliteral">&quot;Ciao-ros-debug&quot;</span>);</div><div class="line"></div><div class="line">    LOG4CXX_INFO (logger(),<span class="stringliteral">&quot;Ciao-log-1-info&quot;</span>);</div><div class="line">    LOG4CXX_DEBUG(logger(),<span class="stringliteral">&quot;Ciao-log-1-debug&quot;</span>);</div><div class="line"></div><div class="line">    ros::spinOnce();</div><div class="line">    ros::Duration(1.0).sleep();</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 1;</div><div class="line">}</div></div><!-- fragment --><h3>Utilities with the package</h3>
<ul>
<li>The ANsi Color are defined as inline function</li>
</ul>
<div class="fragment"><div class="line">inline std::string RESET        ( ) { return &quot;\033[0m&quot;;         }</div><div class="line">inline std::string BLACK        ( ) { return &quot;\033[30m&quot;;        }</div><div class="line">inline std::string RED          ( ) { return &quot;\033[31m&quot;;        }</div><div class="line">inline std::string GREEN        ( ) { return &quot;\033[32m&quot;;        }</div><div class="line">inline std::string YELLOW       ( ) { return &quot;\033[33m&quot;;        }</div><div class="line">inline std::string BLUE         ( ) { return &quot;\033[34m&quot;;        }</div><div class="line">inline std::string MAGENTA      ( ) { return &quot;\033[35m&quot;;        }</div><div class="line">inline std::string CYAN         ( ) { return &quot;\033[36m&quot;;        }</div><div class="line">inline std::string WHITE        ( ) { return &quot;\033[37m&quot;;        }</div><div class="line">inline std::string BOLDBLACK    ( ) { return &quot;\033[1m\033[30m&quot;; }</div><div class="line">inline std::string BOLDRED      ( ) { return &quot;\033[1m\033[31m&quot;; }</div><div class="line">inline std::string BOLDGREEN    ( ) { return &quot;\033[1m\033[32m&quot;; }</div><div class="line">inline std::string BOLDYELLOW   ( ) { return &quot;\033[1m\033[33m&quot;; }</div><div class="line">inline std::string BOLDBLUE     ( ) { return &quot;\033[1m\033[34m&quot;; }</div><div class="line">inline std::string BOLDMAGENTA  ( ) { return &quot;\033[1m\033[35m&quot;; }</div><div class="line">inline std::string BOLDCYAN     ( ) { return &quot;\033[1m\033[36m&quot;; }</div><div class="line">inline std::string BOLDWHITE    ( ) { return &quot;\033[1m\033[37m&quot;; }</div></div><!-- fragment --><ul>
<li>The macros to be used within the code are:</li>
</ul>
<div class="fragment"><div class="line">// ================= STANDARD</div><div class="line">#define CNR_FATAL( trace_logger, args)</div><div class="line">#define CNR_ERROR( trace_logger, args)</div><div class="line">#define CNR_WARN( trace_logger, args)</div><div class="line">#define CNR_INFO( trace_logger, args)</div><div class="line">#define CNR_INFO_ONLY_FILE( trace_logger, args)</div><div class="line">#define CNR_DEBUG( trace_logger, args)</div><div class="line">#define CNR_TRACE( trace_logger, args)</div><div class="line">// =================</div><div class="line"></div><div class="line"></div><div class="line">// ================= THROTTLE</div><div class="line">#define CNR_FATAL_THROTTLE( trace_logger, period, args)</div><div class="line">#define CNR_ERROR_THROTTLE( trace_logger, period, args)</div><div class="line">#define CNR_WARN_THROTTLE(  trace_logger, period, args)</div><div class="line">#define CNR_INFO_THROTTLE(  trace_logger, period, args)</div><div class="line">#define CNR_DEBUG_THROTTLE( trace_logger, period, args)</div><div class="line">#define CNR_TRACE_THROTTLE( trace_logger, period, args)</div><div class="line"></div><div class="line">// ================= COND</div><div class="line">#define CNR_FATAL_COND( trace_logger, cond, args )</div><div class="line">#define CNR_ERROR_COND( trace_logger, cond, args )</div><div class="line">#define CNR_WARN_COND(  trace_logger, cond, args )</div><div class="line">#define CNR_INFO_COND(  trace_logger, cond, args )</div><div class="line">#define CNR_DEBUG_COND( trace_logger, cond, args )</div><div class="line">#define CNR_TRACE_COND( trace_logger, cond, args )</div><div class="line"></div><div class="line"></div><div class="line">// ================= COND THROTTLE</div><div class="line">#define CNR_FATAL_COND_THROTTLE( trace_logger, cond, period, args )</div><div class="line">#define CNR_ERROR_COND_THROTTLE( trace_logger, cond, period, args )</div><div class="line">#define CNR_WARN_COND_THROTTLE(  trace_logger, cond, period, args )</div><div class="line">#define CNR_INFO_COND_THROTTLE(  trace_logger, cond, period, args )</div><div class="line">#define CNR_DEBUG_COND_THROTTLE( trace_logger, cond, period, args )</div><div class="line">#define CNR_TRACE_COND_THROTTLE( trace_logger, cond, period, args )</div><div class="line"></div><div class="line">// ============================== IN/OUT Functions to trace the begin and the end of a function</div><div class="line">#define CNR_TRACE_START(  logger, ... )</div><div class="line">#define CNR_TRACE_END(    logger, ... )</div><div class="line">#define CNR_RETURN_BOOL(  logger, ret, ... )</div><div class="line">#define CNR_RETURN_TRUE(  logger,  ... )</div><div class="line">#define CNR_RETURN_FALSE( logger, ... )</div><div class="line">#define CNR_RETURN_FATAL( logger, ... )</div><div class="line">#define CNR_RETURN_OK(    logger, var, ... )</div><div class="line">#define CNR_RETURN_NOTOK( logger, var, ...)</div><div class="line">#define CNR_EXIT_EX(      logger, ok, ... )</div><div class="line"></div><div class="line">#define CNR_TRACE_START_THROTTLE(  logger, period, ... )</div><div class="line">#define CNR_RETURN_BOOL_THROTTLE(  logger, ret, period, ... )</div><div class="line">#define CNR_RETURN_TRUE_THROTTLE(  logger, period, ... )</div><div class="line">#define CNR_RETURN_FALSE_THROTTLE( logger, period, ... )</div><div class="line">#define CNR_RETURN_OK_THROTTLE(    logger, var, period, ... )</div><div class="line">#define CNR_RETURN_NOTOK_THROTTLE( logger, var, period, ...)</div></div><!-- fragment --><h3>Contribution guidelines</h3>
<h3>Who do I talk to?</h3>
<ul>
<li><a href="#" onclick="location.href='mai'+'lto:'+'nic'+'ol'+'a.p'+'ed'+'roc'+'ch'+'i@s'+'ti'+'ima'+'.c'+'nr.'+'it'; return false;">nicol<span style="display: none;">.nosp@m.</span>a.pe<span style="display: none;">.nosp@m.</span>drocc<span style="display: none;">.nosp@m.</span>hi@s<span style="display: none;">.nosp@m.</span>tiima<span style="display: none;">.nosp@m.</span>.cnr<span style="display: none;">.nosp@m.</span>.it</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
